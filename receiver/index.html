<!-- receiver/index.html -->
<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Aplikacja Treningowa - Receiver</title>
    <link rel="stylesheet" type="text/css" href="style.css?v=5.0">
    <script type="text/javascript" src="//www.gstatic.com/cast/sdk/libs/caf_receiver/v3/cast_receiver_framework.js"></script>
</head>
<body>

    <!-- ========================================== -->
    <!-- HACK 1: BACKGOUND VIDEO (Opacity 1.0)      -->
    <!-- ========================================== -->
    <!-- Wideo jest "pod" aplikacjƒÖ, ale jest w pe≈Çni "widoczne" dla silnika (opacity: 1).
         Dziƒôki temu Chromecast my≈õli, ≈ºe wy≈õwietla film. -->
    <video id="keepAliveVideo" playsinline muted loop 
        style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; z-index: -10; opacity: 1;">
        <source src="data:video/mp4;base64,AAAAHGZ0eXBNNEVAAAAAbXA0MnVzbVrvAAAAAFmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcfAAAAzmoovcf type="video/mp4">
    </video>

    <!-- HACK 2: NIEWIDZIALNY "PIXEL ZMIENNY" -->
    <!-- Ten element bƒôdzie zmienia≈Ç kolor w pƒôtli renderowania JS, wymuszajƒÖc od≈õwie≈ºanie ekranu -->
    <div id="gpu-activator" style="position: absolute; bottom: 0; right: 0; width: 1px; height: 1px; background: transparent; z-index: 1000;"></div>

    <div id="cast-container">
        <!-- ========================================== -->
        <!-- EKRAN 1: DASHBOARD / IDLE                  -->
        <!-- ========================================== -->
        <div id="idle-screen" class="screen active">
            <div class="idle-content">
                <div id="default-logo-container">
                    <img src="../icons/icon-512x512.png" alt="Logo Aplikacji" class="logo pulsate">
                    <h1>Aplikacja Treningowa</h1>
                    <p>Gotowy do po≈ÇƒÖczenia...</p>
                </div>

                <div id="user-stats-container" class="hidden">
                    <div class="stats-avatar-wrapper">
                        <img id="tv-hero-icon" src="" alt="Ikona Rangi">
                    </div>
                    <div class="stats-info">
                        <h2 id="tv-hero-level">POZIOM 1</h2>
                        <h1 id="tv-hero-title">POCZƒÑTKUJƒÑCY</h1>
                        <div class="tv-streak-badge">
                            <span id="tv-streak-fire">üî•</span>
                            <span id="tv-streak-count">0 Dni z rzƒôdu</span>
                        </div>
                        <p class="tv-total-sessions">
                            ≈ÅƒÖcznie uko≈Ñczonych trening√≥w: <span id="tv-session-count">0</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ========================================== -->
        <!-- EKRAN 2: TRENING (Focus Mode)              -->
        <!-- ========================================== -->
        <div id="training-screen" class="screen">
            <div class="header">
                <p id="section-name">Rozgrzewka</p>
            </div>
            
            <div class="timer-container">
                <div class="timer-display">
                    <h1 id="timer">00:00</h1>
                </div>
            </div>

            <div class="content-wrapper">
                <div id="tv-animation-container" class="hidden"></div>
                <div class="exercise-info">
                    <h2 id="exercise-name">Przygotuj siƒô</h2>
                    <p id="exercise-details">Oczekiwanie na start...</p>
                </div>
            </div>
            
            <div class="footer">
                <p>Nastƒôpne: <span id="next-exercise">-</span></p>
            </div>
        </div>
        
        <!-- ========================================== -->
        <!-- EKRAN 3: WIDEO (YouTube)                   -->
        <!-- ========================================== -->
        <div id="video-screen" class="screen">
            <iframe id="youtube-player" frameborder="0" allowfullscreen></iframe>
        </div>
    </div>

    <div id="version-display">v6.0 (Input Simulation + Nuclear Anti-Idle)</div>

    <script type="text/javascript" src="receiver.js"></script>
</body>
</html>